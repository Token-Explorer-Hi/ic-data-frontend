import{u as D,r as t,b as A,j as e,i as y,T as n,M as N,C as z,G as i,k as R,q as F,f as j,t as M,z as H,N as L}from"./index-CeZ0tbR2.js";import{T as V}from"./TypographyLink-9WA1_1xo.js";import{T as h}from"./TableSorter-ChxbmX19.js";import{T as b,a as E,b as O,c as B,d as G,e as w,f as r,g as W}from"./TableWrapper-C7G5NxaH.js";import{T as $}from"./TokenSource-Dfjc-YHu.js";import{p as q}from"./tokenAmount-B7XS4ceT.js";function Z(){var T;const d=D(),[p,m]=t.useState(0),[l,u]=t.useState({}),[g,f]=t.useState(0),[P,v]=t.useState([]);t.useEffect(()=>{let s=Math.floor((window.innerHeight-400)/62);s<10&&(s=10),f(s),v([s,s*2,s*3,s*4])},[]);const I=t.useMemo(()=>Object.keys(l).filter(s=>l[s]!=="default").map(s=>({sortOrder:l[s],sortBy:s})),[l]),{result:a,loading:k}=A({page:p+1,size:g,sorters:I}),C=(s,x)=>{m(x)},S=s=>{f(parseInt(s.target.value)),m(0)},c=t.useCallback((s,x)=>{u({[s]:x})},[u]),o=d.palette.mode==="dark"?d.colors.grey400:d.colors.grey600;return e.jsx(e.Fragment,{children:e.jsxs(y,{className:"wrap",sx:{padding:"0 var(--space-14) var(--space-14)",height:"100%",flex:1,display:"flex",flexDirection:"column"},children:[e.jsx(n,{variant:"h4",sx:{margin:{xs:"var(--space-16) 0",sm:"var(--space-24) 0"}},children:"Token Tracker"}),e.jsx(N,{sx:{height:"100%",flex:1,display:"flex",flexDirection:"column",position:"relative"},children:k?e.jsx(y,{sx:{minHeight:"600px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(z,{})}):a!=null&&a.list.length?e.jsxs(e.Fragment,{children:[e.jsxs(i,{display:"flex",sx:{gap:"var(--space-4)",alignItems:{xs:"flex-start",md:"center"},flexDirection:{xs:"column",md:"row"}},children:[e.jsxs(i,{display:"flex",alignItems:"center",sx:{gap:"var(--space-4)",width:"100%",padding:{xs:"var(--space-16)",sm:"var(--space-20)"}},children:[e.jsx(R,{}),e.jsxs(n,{children:["More than ",Number((a==null?void 0:a.total)??0).toLocaleString()," tokens found"]})]}),e.jsx(b,{component:"div",count:(a==null?void 0:a.total)||0,page:p,rowsPerPageOptions:P,onPageChange:C,rowsPerPage:g,onRowsPerPageChange:S,sx:{marginLeft:"auto",flexShrink:0,display:{xs:"none",md:"block"},opacity:(a==null?void 0:a.pages)>1?1:0,pointerEvents:(a==null?void 0:a.pages)>1?"auto":"none"},labelRowsPerPage:"Show:"})]}),e.jsx(E,{children:e.jsx(O,{children:e.jsx(e.Fragment,{children:e.jsxs(B,{children:[e.jsx(G,{children:e.jsxs(w,{children:[e.jsx(r,{children:e.jsx(n,{sx:{color:o},children:"#"})}),e.jsx(r,{children:e.jsx(n,{sx:{color:o},children:"Token"})}),e.jsx(r,{children:e.jsx(n,{sx:{color:o},children:"Price"})}),e.jsx(r,{children:e.jsx(h,{title:"Change(%)",onSorter:s=>c("priceChange24",s),sort:l.priceChange24})}),e.jsx(r,{children:e.jsx(h,{title:"Volume(24H)",onSorter:s=>c("txVolume24",s),sort:l.txVolume24})}),e.jsx(r,{children:e.jsx(n,{sx:{color:o},children:"Total Supply"})}),e.jsx(r,{children:e.jsx(h,{title:"Market Cap",onSorter:s=>c("marketCap",s),sort:l.marketCap})}),e.jsx(r,{children:e.jsx(h,{title:"Holders",onSorter:s=>c("holderAmount",s),sort:l.holderAmount})}),e.jsx(r,{children:e.jsx(n,{sx:{color:o},children:"Action"})})]})}),e.jsx(W,{children:(T=a==null?void 0:a.list)==null?void 0:T.map((s,x)=>e.jsxs(w,{children:[e.jsx(r,{children:e.jsx(n,{children:x+1})}),e.jsx(r,{children:e.jsxs(i,{container:!0,display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"nowrap",gap:"0 var(--space-4)",children:[e.jsx(i,{children:e.jsx(F,{tokenId:s.ledgerId})}),e.jsx(i,{children:e.jsx(n,{children:s.symbol})}),e.jsx(i,{children:e.jsx($,{source:s.source})})]})}),e.jsx(r,{children:e.jsxs(i,{display:"flex",flexDirection:"column",sx:{gap:"var(--space-4)"},children:[e.jsx(n,{children:j(s.price)}),e.jsx(n,{children:s.priceICP?`${M(s.priceICP)} ICP`:"--"})]})}),e.jsx(r,{children:s.priceChange24&&(s.priceChange24?e.jsx(H,{value:Number(s.priceChange24)}):null)}),e.jsx(r,{children:e.jsx(n,{children:s.txVolume24?j(s.txVolume24):"--"})}),e.jsx(r,{children:e.jsx(n,{children:q(s.totalSupply,s.tokenDecimal).toFormat(4)})}),e.jsx(r,{children:e.jsx(n,{children:s.marketCap?j(s.marketCap):"--"})}),e.jsx(r,{children:e.jsx(n,{children:Number(s.holderAmount).toLocaleString()})}),e.jsx(r,{children:e.jsx(V,{to:`/token/details/${s.ledgerId}`,children:"Details"})})]},s.ledgerId))})]})})})}),e.jsx(b,{component:"div",count:(a==null?void 0:a.total)||0,page:p,rowsPerPageOptions:P,onPageChange:C,rowsPerPage:g,onRowsPerPageChange:S,sx:{marginLeft:"auto",flexShrink:0},labelRowsPerPage:"Show:"})]}):e.jsx(e.Fragment,{children:e.jsx(L,{})})})]})})}export{Z as default};
