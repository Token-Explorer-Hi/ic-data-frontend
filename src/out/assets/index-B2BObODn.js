import{r as f,e as c,P as p,u as h,a as M,b as H,j as t,M as I,G as o,S as z,g as U,T as u,f as y,t as W,D as m,L as D,F as A,N as B,c as G,d as V,B as Y,h as P}from"./index-CeZ0tbR2.js";import{T as K}from"./TokenSource-Dfjc-YHu.js";import{T as $}from"./TransactionAddressLink-BO8Ju-cI.js";import{u as q}from"./useTransactions-BRof3kjw.js";import{O as x}from"./OverviewItem-BIWFNvBG.js";import"./TransactionTooltip-B0j2Et1-.js";const J=60,C=60,S=24,R=365,Q={year:"year",year_plural:"years",month:"month",month_plural:"months",day:"day",day_plural:"days",hour:"hour",hour_plural:"hours",minute:"minute",minute_plural:"minutes",second:"second",second_plural:"seconds"},X=({seconds:e,i18n:s=Q})=>{let n=e/BigInt(J),r=n/BigInt(C);n-=r*BigInt(C);let a=r/BigInt(S);r-=a*BigInt(S);const i=Z(a);return a-=F(i),[g("year",i),g("day",a),g("hour",r),g("minute",n),...e>BigInt(0)&&e<BigInt(60)?[g("second",e)]:[]].filter(({amount:d})=>d>0).slice(0,2).map(d=>`${d.amount} ${d.amount===1?s[d.labelKey]:s[`${d.labelKey}_plural`]}`).join(", ")},Z=e=>{let s=e/BigInt(R);for(;F(s)>e;)s--;return s},F=e=>{const s=e/BigInt(4);return e*BigInt(R)+s},g=(e,s)=>({labelKey:e,amount:Number(s)});function v(){return v=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function ee(e,s){if(e==null)return{};var n=re(e,s),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function re(e,s){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var T=f.forwardRef(function(e,s){var n=e.color,r=n===void 0?"currentColor":n,a=e.size,i=a===void 0?24:a,l=ee(e,["color","size"]);return c.createElement("svg",v({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),c.createElement("circle",{cx:"12",cy:"12",r:"10"}),c.createElement("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}))});T.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};T.displayName="Compass";function j(){return j=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function te(e,s){if(e==null)return{};var n=ne(e,s),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ne(e,s){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var k=f.forwardRef(function(e,s){var n=e.color,r=n===void 0?"currentColor":n,a=e.size,i=a===void 0?24:a,l=te(e,["color","size"]);return c.createElement("svg",j({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),c.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),c.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}))});k.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};k.displayName="DollarSign";function w(){return w=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function se(e,s){if(e==null)return{};var n=ae(e,s),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ae(e,s){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var E=f.forwardRef(function(e,s){var n=e.color,r=n===void 0?"currentColor":n,a=e.size,i=a===void 0?24:a,l=se(e,["color","size"]);return c.createElement("svg",w({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),c.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),c.createElement("polyline",{points:"14 2 14 8 20 8"}),c.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),c.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),c.createElement("polyline",{points:"10 9 9 9 8 9"}))});E.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};E.displayName="FileText";function b(){return b=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function ie(e,s){if(e==null)return{};var n=oe(e,s),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oe(e,s){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var N=f.forwardRef(function(e,s){var n=e.color,r=n===void 0?"currentColor":n,a=e.size,i=a===void 0?24:a,l=ie(e,["color","size"]);return c.createElement("svg",b({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),c.createElement("polyline",{points:"17 1 21 5 17 9"}),c.createElement("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),c.createElement("polyline",{points:"7 23 3 19 7 15"}),c.createElement("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"}))});N.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};N.displayName="Repeat";function O(){return O=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function le(e,s){if(e==null)return{};var n=ce(e,s),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ce(e,s){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var L=f.forwardRef(function(e,s){var n=e.color,r=n===void 0?"currentColor":n,a=e.size,i=a===void 0?24:a,l=le(e,["color","size"]);return c.createElement("svg",O({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),c.createElement("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),c.createElement("polyline",{points:"17 6 23 6 23 12"}))});L.propTypes={color:p.string,size:p.oneOfType([p.string,p.number])};L.displayName="TrendingUp";function pe(){var i;const e=h(),s=M(),n=25,{result:r,loading:a}=H(f.useMemo(()=>({page:1,size:n}),[]));return t.jsx(I,{title:"Tokens",className:"home-card",style:{minHeight:500,height:"100%"},children:a?t.jsx(o,{display:"flex",flexDirection:"column",gap:"var(--space-8)",style:{padding:"var(--space-14)"},children:Array.from({length:n}).map((l,d)=>t.jsx(z,{height:"var(--space-56)"},d))}):r!=null&&r.list.length?t.jsxs(t.Fragment,{children:[(i=r==null?void 0:r.list)==null?void 0:i.map((l,d)=>{var _;return t.jsxs(t.Fragment,{children:[t.jsxs(o,{display:"flex",alignItems:"center",justifyContent:"center",className:"home-row",onClick:()=>s.push(`/token/details/${l.ledgerId}`),sx:{padding:{sm:"var(--space-12) var(--space-24)",xs:"var(--space-12) var(--space-12)"},cursor:"pointer"},children:[t.jsx(o,{item:!0,xs:4,children:t.jsxs(o,{display:"flex",alignItems:"center",gap:"0 var(--space-5)",children:[t.jsx("img",{style:{width:"var(--space-24)",height:"var(--space-24)",borderRadius:"50%"},src:U(l.ledgerId),alt:""}),t.jsx(u,{children:l.symbol})]})}),t.jsxs(o,{item:!0,xs:6,display:"flex",flexDirection:"column",children:[t.jsx(u,{style:{fontWeight:500},children:y(l.price)}),t.jsx(u,{style:{fontWeight:500},children:l.priceICP?`${W(l.priceICP)} ICP`:"--"})]}),t.jsx(o,{display:"flex",item:!0,xs:2,justifyContent:"center",alignItems:"flex-end",children:t.jsx(K,{source:l.source})})]},`${l.ledgerId}_${d}`),d!==((_=r==null?void 0:r.list)==null?void 0:_.length)-1&&t.jsx(m,{})]})}),t.jsxs(o,{display:"flex",className:"home-card-footer",justifyContent:"center",alignItems:"center",gap:"var(--space-4)",sx:{padding:{xs:"var(--space-12) 0",sm:"var(--space-24) 0"},background:e.palette.mode==="dark"?"none":"var(--background-secondary)",borderTop:e.palette.mode==="dark"?"1px solid rgba(255, 255,255,0.2)":"none"},children:[t.jsx(D,{to:"/token/all",children:t.jsx(u,{children:"VIEW ALL TOKENS"})}),t.jsx(A,{color:"var(--typography-color)"})]})]}):t.jsx(t.Fragment,{children:t.jsx(B,{})})})}function de({transaction:e}){const s=f.useMemo(()=>{const n=new Date(e.token0TxTime).getTime(),r=new Date().getTime();return parseInt(String((r-n)/1e3))},[e]);return t.jsxs(o,{container:!0,display:"flex",alignItems:"center",className:"home-row",sx:{padding:{sm:"var(--space-12) var(--space-24)",xs:"var(--space-12) var(--space-12)"}},children:[t.jsxs(o,{item:!0,xs:4,children:[t.jsx(u,{style:{fontWeight:500},className:"op",children:e.op}),t.jsx(u,{style:{fontSize:"var(--space-12)"},children:X({seconds:BigInt(s)})})]}),t.jsxs(o,{item:!0,xs:4,children:[t.jsxs(o,{display:"flex",item:!0,children:[t.jsx(u,{whiteSpace:"nowrap",children:"From "}),t.jsx($,{fontWeight:500,owner:e.fromOwner??e.fromAccountId,sub:e.fromSubaccount,alias:e.fromAlias})]}),t.jsxs(o,{display:"flex",item:!0,children:[t.jsx(u,{whiteSpace:"nowrap",children:"To "}),t.jsx($,{owner:e.toOwner??e.toAccountId,sub:e.toSubaccount,alias:e.toAlias,fontWeight:500})]})]}),t.jsx(o,{item:!0,xs:4,children:t.jsx(o,{display:"flex",justifyContent:"flex-end",children:t.jsxs(u,{style:{fontWeight:500},children:[W(e.token0Amount)," ",e.token0Symbol]})})})]})}function ue(){var a;const e=h(),s=25,{result:n,loading:r}=q({page:1,size:s});return t.jsx(I,{title:"Latest Transactions",className:"home-card",style:{minHeight:500},children:r?t.jsx(o,{display:"flex",flexDirection:"column",gap:"var(--space-8)",style:{padding:"var(--space-14)"},children:Array.from({length:s}).map((i,l)=>t.jsx(z,{height:"var(--space-56)"},l))}):n!=null&&n.list.length?t.jsxs(t.Fragment,{children:[(a=n==null?void 0:n.list)==null?void 0:a.map((i,l)=>{var d;return t.jsxs(t.Fragment,{children:[t.jsx(de,{transaction:i},`${i==null?void 0:i.id}_${l}`),l!==((d=n==null?void 0:n.list)==null?void 0:d.length)-1&&t.jsx(m,{})]})}),t.jsxs(o,{display:"flex",className:"home-card-footer",justifyContent:"center",alignItems:"center",gap:"var(--space-4)",sx:{padding:{xs:"var(--space-12) 0",sm:"var(--space-24) 0"},background:e.palette.mode==="dark"?"none":"var(--background-secondary)",borderTop:e.palette.mode==="dark"?"1px solid rgba(255, 255,255,0.2)":"none"},children:[t.jsx(D,{to:"/transactions/all",children:t.jsx(u,{children:"VIEW ALL TRANSACTIONS"})}),t.jsx(A,{color:"var(--typography-color)"})]})]}):t.jsx(t.Fragment,{children:t.jsx(B,{})})})}function fe(){const e=h();return t.jsx(o,{display:"flex",width:"100%",className:"search-wrapper",sx:{backgroundColor:e.palette.mode==="dark"?e.colors.darkBackground:"var(--color-primary)",padding:{xs:"var(--space-14) 0 var(--space-50)",sm:"40px 0 80px"}},justifyContent:"center",children:t.jsxs(o,{className:"wrap",flexDirection:"column",display:"flex",gap:"var(--space-12) 0",justifyContent:"center",children:[t.jsx(u,{variant:"h3",fontWeight:"bold",color:"white",children:"The IC Explorer"}),t.jsx(G,{})]})})}function me(){const e=h(),{globalData:s}=V(),[n,r]=f.useState(!0);f.useEffect(()=>{r(!1)},[]);const a=`var(--space-1) solid ${e.palette.mode==="dark"?"rgba(255,255,255, 0.2)":"#eeeeee"}`;return t.jsx(I,{width:"100%",className:"overview-wrapper",children:t.jsxs(o,{display:"flex",className:"overview-row",sx:{alignItems:{xs:"center",sm:"flex-start"},padding:{sm:"var(--space-20)",xs:0},flexDirection:{sm:"row",xs:"column"}},children:[t.jsxs(o,{className:"overview-col",xs:12,lg:4,width:"100%",sx:{padding:"var(--space-20)","&:not(:first-child)":{borderLeft:{xs:"none",sm:a}}},children:[t.jsxs(o,{display:"flex",gap:"0 var(--space-10)",alignItems:"flex-start",children:[t.jsx(T,{}),t.jsx(x,{title:"ICP Price",value:s?y(s.icpPrice):"--"})]}),t.jsx(m,{sx:{margin:{xs:"var(--space-16) 0",md:"var(--space-24) 0"}},variant:"middle"}),t.jsxs(o,{display:"flex",gap:"0 var(--space-10)",alignItems:"flex-start",children:[t.jsx(k,{}),t.jsx(x,{title:"IC Tokens Tracked",value:s?new Y(s.tokenCount).toFormat():"--"})]})]}),t.jsx(m,{sx:{display:{xs:"block",sm:"none"},width:"calc(100% - var(--space-40))"}}),t.jsxs(o,{className:"overview-col",xs:12,lg:4,width:"100%",sx:{padding:"var(--space-20)","&:not(:first-child)":{borderLeft:{xs:"none",sm:a}}},children:[t.jsxs(o,{display:"flex",gap:"0 var(--space-10)",alignItems:"flex-start",children:[t.jsx(L,{}),t.jsx(x,{title:"Total ICP Value Locked",value:s?y(s.icpTVL):"--"})]}),t.jsx(m,{sx:{margin:{xs:"var(--space-16) 0",md:"var(--space-24) 0"}},variant:"middle"}),t.jsxs(o,{display:"flex",gap:"0 var(--space-10)",alignItems:"flex-start",children:[t.jsx(N,{}),t.jsx(x,{title:"Transactions",value:s?P(s.transactionCount):"--"})]})]}),t.jsx(m,{sx:{display:{xs:"block",sm:"none"},width:"calc(100% - var(--space-40))"}}),t.jsx(o,{className:"overview-col",xs:12,lg:4,width:"100%",sx:{padding:"var(--space-20)","&:not(:first-child)":{borderLeft:{xs:"none",sm:a}}},children:t.jsxs(o,{display:"flex",gap:"0 var(--space-10)",alignItems:"flex-start",children:[t.jsx(E,{}),t.jsx(x,{title:"Total Address",value:s?P(s.addressCount):"--"})]})})]})})}function we(){return t.jsxs(o,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[t.jsx(fe,{}),t.jsxs(o,{display:"flex",flexDirection:"column",className:"home-bottom wrap",gap:"var(--space-14)",sx:{padding:"0 var(--space-14) var(--space-14)"},children:[t.jsx(o,{display:"flex",alignItems:"flex-start",width:"100%",className:"global-data",gap:"var(--space-20)",sx:{marginTop:"var(---space-40)"},children:t.jsx(me,{})}),t.jsxs(o,{display:"flex",alignItems:"flex-start",sx:{width:"100%",height:"100%",gap:"var(--space-20)",flexDirection:{xs:"column",sm:"row"}},children:[t.jsx(pe,{}),t.jsx(ue,{})]})]})]})}export{we as default};
